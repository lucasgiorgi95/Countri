{"ast":null,"code":"import { CLEAN_COUNTRY_DETAILS, DELETE_ACTIVITY, FILTER_BY_ACTIVITIY, FILTER_BY_CONTINENT, GET_ALL_ACTIVITIES, GET_ALL_COUNTRIES, GET_COUNTRY_DETAILS, GET_COUNTRY_NAME, ORDER_BY_AZ, ORDER_BY_POPULATION, POST_ACTIVITY } from \"../action/Actions\";\nconst initialState = {\n  countries: [],\n  allCountries: [],\n  activities: [],\n  details: []\n};\n\nconst rootReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_ALL_COUNTRIES:\n      {\n        return { ...state,\n          countries: action.payload,\n          allCountries: action.payload\n        };\n      }\n\n    case GET_ALL_ACTIVITIES:\n      {\n        return { ...state,\n          activities: action.payload,\n          allActivities: action.payload\n        };\n      }\n\n    case GET_COUNTRY_NAME:\n      {\n        return { ...state,\n          countries: action.payload\n        };\n      }\n\n    case POST_ACTIVITY:\n      {\n        return { ...state\n        };\n      }\n\n    case FILTER_BY_CONTINENT:\n      {\n        const allCountries = state.allCountries;\n        const continentFilter = action.payload === value ? allCountries : allCountries.filter(e => e.continents === action.payload);\n        return { ...state,\n          countries: continentFilter\n        };\n      }\n\n    case FILTER_BY_ACTIVITIY:\n      {\n        const countriesWithActivities = state.allCountries.filter(country => country.activities.length > 0);\n        console.log(\"paises con actividades\", countriesWithActivities);\n        let countriesSelected = [];\n        countriesWithActivities.forEach(country => {\n          country.activities.forEach(activity => {\n            if (activity.name === action.payload) countriesSelected.push(country);\n          });\n        });\n        const countriesFiltered = action.payload === \"All\" ? state.allCountries : countriesSelected;\n        console.log(countriesFiltered);\n        return { ...state,\n          countries: countriesFiltered\n        };\n      }\n\n    case ORDER_BY_POPULATION:\n      {\n        let sortedCountries;\n\n        if (action.payload === \"desc\") {\n          sortedCountries = state.countries.sort((a, b) => {\n            if (a.population > b.population) {\n              //si a es mayor, lo pone dsps de b\n              return 1;\n            }\n\n            if (b.population > a.population) {\n              //si a es menor, lo pone antes de b\n              return -1;\n            }\n\n            return 0; //si son iguales los deja como esta.\n          });\n        } else {\n          sortedCountries = state.countries.sort((a, b) => {\n            if (a.population > b.population) {\n              return -1;\n            }\n\n            if (b.population > a.population) {\n              return 1;\n            }\n\n            return 0;\n          });\n        }\n\n        return { ...state,\n          countries: sortedCountries\n        };\n      }\n\n    case ORDER_BY_AZ:\n      {\n        // let sortedCountries;\n        // if (action.payload === \"asc\") {\n        //   sortedCountries = state.countries.sort((a, b) => {\n        //     if (a.name > b.name) {\n        //       //si a es mayor, lo pone dsps de b\n        //       return 1;\n        //     }\n        //     if (b.name > a.name) {\n        //       //si a es menor, lo pone antes de b\n        //       return -1;\n        //     }\n        //     return 0; //si son iguales los deja como esta.\n        //   });\n        // } else {\n        //   sortedCountries = state.countries.sort((a, b) => {\n        //     if (a.name > b.name) {\n        //       return -1;\n        //     }\n        //     if (b.name > a.name) {\n        //       return 1;\n        //     }\n        //     return 0; \n        //   });\n        // }\n        // return {\n        //   ...state,\n        //   countries: sortedCountries,\n        // };\n        const sortArr = action.payload === 'asc' ? state.countries.sort(function (a, b) {\n          if (a.name > b.name) {\n            return 1;\n          }\n\n          if (b.name > a.name) {\n            return -1;\n          }\n\n          return 0;\n        }) : state.countries.sort(function (a, b) {\n          if (a.name > b.name) {\n            return -1;\n          }\n\n          if (b.name > a.name) {\n            return 1;\n          }\n\n          return 0;\n        });\n        return { ...state,\n          dogs: sortArr\n        };\n      }\n\n    case GET_COUNTRY_DETAILS:\n      {\n        return { ...state,\n          details: action.payload\n        };\n      }\n\n    case CLEAN_COUNTRY_DETAILS:\n      {\n        return { ...state,\n          details: []\n        };\n      }\n\n    case DELETE_ACTIVITY:\n      {\n        let deleted = state.allCountries.filter(e => e.id !== action.payload);\n        return { ...state,\n          allCountries: deleted\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport default rootReducer;","map":{"version":3,"names":["CLEAN_COUNTRY_DETAILS","DELETE_ACTIVITY","FILTER_BY_ACTIVITIY","FILTER_BY_CONTINENT","GET_ALL_ACTIVITIES","GET_ALL_COUNTRIES","GET_COUNTRY_DETAILS","GET_COUNTRY_NAME","ORDER_BY_AZ","ORDER_BY_POPULATION","POST_ACTIVITY","initialState","countries","allCountries","activities","details","rootReducer","state","action","type","payload","allActivities","continentFilter","value","filter","e","continents","countriesWithActivities","country","length","console","log","countriesSelected","forEach","activity","name","push","countriesFiltered","sortedCountries","sort","a","b","population","sortArr","dogs","deleted","id"],"sources":["/home/lucasgiorgi/Escritorio/Henry/PI/PI-Countries-main/client/src/Redux/reducer/Reducer.js"],"sourcesContent":["import {\n  CLEAN_COUNTRY_DETAILS,\n  DELETE_ACTIVITY,\n  FILTER_BY_ACTIVITIY,\n  FILTER_BY_CONTINENT,\n  GET_ALL_ACTIVITIES,\n  GET_ALL_COUNTRIES,\n  GET_COUNTRY_DETAILS,\n  GET_COUNTRY_NAME,\n  ORDER_BY_AZ,\n  ORDER_BY_POPULATION,\n  POST_ACTIVITY,\n} from \"../action/Actions\";\n\nconst initialState = {\n  countries: [],\n  allCountries: [],\n  activities: [],\n  details: [],\n};\n\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_ALL_COUNTRIES: {\n      return {\n        ...state,\n        countries: action.payload,\n        allCountries: action.payload,\n        \n      };\n    }\n    case GET_ALL_ACTIVITIES: {\n      return {\n        ...state,\n        activities: action.payload,\n        allActivities:action.payload\n      };\n    }\n\n    case GET_COUNTRY_NAME: {\n      return {\n        ...state,\n        countries: action.payload,\n      };\n    }\n\n    case POST_ACTIVITY: {\n      return {\n        ...state,\n      };\n    }\n    case FILTER_BY_CONTINENT: {\n      const allCountries = state.allCountries;\n      const continentFilter =\n        action.payload === value\n          ? allCountries\n          : allCountries.filter((e) => e.continents === action.payload);\n      return {\n        ...state,\n        countries: continentFilter,\n      };\n    }\n   \n\n    case FILTER_BY_ACTIVITIY: {\n      const countriesWithActivities = state.allCountries.filter(\n        (country) => country.activities.length > 0\n      );\n      console.log(\"paises con actividades\", countriesWithActivities);\n      let countriesSelected = [];\n      countriesWithActivities.forEach((country) => {\n        country.activities.forEach((activity) => {\n          if (activity.name === action.payload) countriesSelected.push(country);\n        });\n      });\n      const countriesFiltered =\n        action.payload === \"All\"\n          ? state.allCountries\n          : countriesSelected\n      console.log(countriesFiltered);\n      return {\n        ...state,\n        countries: countriesFiltered,\n      };\n    }\n\n    case ORDER_BY_POPULATION: {\n      let sortedCountries;\n      if (action.payload === \"desc\") {\n        sortedCountries = state.countries.sort((a, b) => {\n          if (a.population > b.population) {\n            //si a es mayor, lo pone dsps de b\n            return 1;\n          }\n          if (b.population > a.population) {\n            //si a es menor, lo pone antes de b\n            return -1;\n          }\n          return 0; //si son iguales los deja como esta.\n        });\n      } else {\n        sortedCountries = state.countries.sort((a, b) => {\n          if (a.population > b.population) {\n            \n            return -1;\n          }\n          if (b.population > a.population) {\n            \n            return 1;\n          }\n          return 0; \n        });\n      }\n      return {\n        ...state,\n        countries: sortedCountries,\n      };\n    }\n\n    case ORDER_BY_AZ: {\n      // let sortedCountries;\n      // if (action.payload === \"asc\") {\n      //   sortedCountries = state.countries.sort((a, b) => {\n      //     if (a.name > b.name) {\n      //       //si a es mayor, lo pone dsps de b\n      //       return 1;\n      //     }\n      //     if (b.name > a.name) {\n      //       //si a es menor, lo pone antes de b\n      //       return -1;\n      //     }\n      //     return 0; //si son iguales los deja como esta.\n      //   });\n      // } else {\n      //   sortedCountries = state.countries.sort((a, b) => {\n      //     if (a.name > b.name) {\n           \n      //       return -1;\n      //     }\n      //     if (b.name > a.name) {\n            \n      //       return 1;\n      //     }\n      //     return 0; \n      //   });\n      // }\n\n      // return {\n      //   ...state,\n      //   countries: sortedCountries,\n      // };\n      const sortArr = action.payload === 'asc'?\n      state.countries.sort(function(a, b){\n          if(a.name > b.name){return 1}\n          if(b.name > a.name){return -1}\n          return 0\n      }):\n      state.countries.sort(function(a, b){\n          if(a.name > b.name){return -1}\n          if(b.name > a.name){return 1}\n          return 0\n      })\n      return{\n          ...state,\n          dogs: sortArr\n      }\n    }\n\n    case GET_COUNTRY_DETAILS: {\n      return {\n        ...state,\n        details: action.payload,\n      };\n    }\n\n    case CLEAN_COUNTRY_DETAILS: {\n      return {\n        ...state,\n        details: [],\n      };\n    }\n\n    case DELETE_ACTIVITY:{\n      let deleted = state.allCountries.filter(e => e.id !== action.payload)\n      return {\n          ...state,\n          allCountries: deleted\n      }\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default rootReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}